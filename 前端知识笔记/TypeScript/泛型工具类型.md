---
date: 2025-06-25
tags:
  - TypeScript
---
## [[泛型]]工具类型

### 属性修饰类

- `Partial<T>`

  - **作用：**将类型 `T` 的**所有属性变为可选的（`?`）**。
  - **示例**：

    ```ts
    interface User {
      id: number;
      name: string;
      age: number;
    }
    
    // updateInfo 的类型是 { id?: number; name?: string; age?: number; }
    type PartialUser = Partial<User>;
    
    function updateUser(id: number, updateInfo: PartialUser) {
      // ... a function to update user info
    }
    
    updateUser(1, { name: "New Name" }); // OK
    updateUser(2, { age: 30 }); // OK
    ```


- `Required<T>`

  - **作用**：与 `Partial<T>` 相反，它将类型 `T` 的**所有属性（包括原本可选的）都变为必选的**。
  - **示例**：

    ```ts
    interface UserConfig {
      theme?: 'dark' | 'light';
      fontSize?: number;
    }
    
    // FullConfig 的类型是 { theme: 'dark' | 'light'; fontSize: number; }
    type FullConfig = Required<UserConfig>;
    
    const myConfig: FullConfig = { theme: 'dark', fontSize: 14 }; // OK, 必须提供所有属性
    // const wrongConfig: FullConfig = { theme: 'dark' }; // Error: Property 'fontSize' is missing.
    ```


- `Readonly<T>`

  - **作用**：将类型 `T` 的所有属性变为只读的 (`readonly`)。
  - **示例**：

    ```ts
    interface SystemConfig {
      apiUrl: string;
    }
    
    const config: Readonly<SystemConfig> = {
      apiUrl: "https://api.example.com"
    };
    
    // config.apiUrl = "https://api.new.com"; // Error: Cannot assign to 'apiUrl' because it is a read-only property.
    ```




###  属性选择类

- `Pick<T, K>`

  - **作用**：从类型 `T` 中挑选出 `K` 中指定的属性，构成一个新的类型。
  - **示例**：

    ```ts
    interface User {
      id: number;
      name: string;
      email: string;
      passwordHash: string;
    }
    
    // UserPreview 的类型是 { name: string; email: string; }
    type UserPreview = Pick<User, 'name' | 'email'>;
    
    const userForDisplay: UserPreview = {
      name: "John Doe",
      email: "john@example.com"
    };
    ```


- `Omit<T, K>`

  - **作用**：与 `Pick<T, K>` 相反，它从类型 `T` 中排除 `K` 中指定的属性，用剩下的属性构成一个新类型。
  - **示例**：

    ```ts
    interface User {
      id: number;
      name: string;
      email: string;
      passwordHash: string; // 敏感信息
    }
    
    // UserForClient 的类型是 { id: number; name: string; email: string; }
    type UserForClient = Omit<User, 'passwordHash'>;
    
    const safeUser: UserForClient = {
      id: 1,
      name: "Jane Doe",
      email: "jane@example.com"
    };
    ```




### 其他常用类型

- `Record<K, T>`

  - **作用**：创建一个对象类型，其属性键为 `K` 中的类型，属性值为 `T` 类型。

  - **示例**：

    ```ts
    type Page = 'home' | 'about' | 'contact';
    
    interface PageInfo {
      title: string;
      path: string;
    }
    
    // navMap 的类型是 { home: PageInfo; about: PageInfo; contact: PageInfo; }
    const navMap: Record<Page, PageInfo> = {
      home: { title: "Home", path: "/" },
      about: { title: "About Us", path: "/about" },
      contact: { title: "Contact", path: "/contact" },
    };
    ```

    