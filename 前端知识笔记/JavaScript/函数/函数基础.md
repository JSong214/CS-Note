---
date: 2025-06-11
tags:
  - JavaScript
aliases:
  - 函数
  - 参数
---
**函数是 JS 的一等公民**，是组织代码的核心单元。

### **函数定义**

**函数声明**
- 存在函数提升（**可在定义前调用**）

```js
function add(a, b) {
  return a + b;
}
```


**函数表达式**
- 无函数提升（必须在定义后调用）

```js
const add = function(a, b) {
  return a + b;
};
```


**箭头函数**（ES6+）
- **没有自己的 `this`:** 箭头函数的 `this` 会捕获其所在上下文（词法[[作用域与闭包|作用域]]）的 `this` 值。
- 不能用作构造函数

```js
// 基本语法
const add = (a, b) => {
  return a + b;
};

// 如果只有一个参数，可以省略括号
const square = x => {
  return x * x;
};

// 如果函数体只有一行返回语句，可以省略花括号 {} 和 return 关键字
const multiply = (a, b) => a * b;
```


### **参数处理**

#### **默认参数**（ES6）

```js
function greet(name = "Guest") {	// 使用 " = " 为参数设置默认参数
  return `Hello, ${name}!`;
}
```

**重点：**
- **触发条件:** 只有当**参数未传递**，或显式传递 `undefined` 时，默认值才会被使用。


#### **剩余参数**（`...`）

使用剩余参数语法，**可以将一个不定数量的参数表示为一个数组**。

```js
function sum(...numbers) {
  // 'numbers' 是一个真正的数组
  return numbers.reduce((total, current) => total + current, 0);
}
```

**重点：**
- **必须是最后一个参数:** 剩余参数必须放在所有参数的最后。
  ```js
  // 正确
  function process(first, second, ...others) { /* ... */ }
  // 错误: Rest parameter must be last formal parameter
  // function process(...others, last) { /* ... */ }
  ```

#### **解构赋值**

解构赋值允许你直接从作为参数传入的对象或数组中提取值，并赋给独立的变量。
- **对象解构**
  ```js
  // 从对象中提取 'name' 和 'age'
  function printUser({ name, age, country = 'Unknown' }) {
    console.log(`Name: ${name}, Age: ${age}, Country: ${country}`);
  }
  
  const user = { name: 'Cathy', age: 30 };
  printUser(user); // 输出: Name: Cathy, Age: 30, Country: Unknown
  ```

- **数组解构**
  ```js
  function getCoordinates([x, y]) {
    console.log(`X: ${x}, Y: ${y}`);
  }
  
  const point = [10, 20];
  getCoordinates(point); // 输出: X: 10, Y: 20
  ```

**重点:**
- **代码清晰:** 参数的意图一目了然，直接暴露了函数所依赖的数据结构。
- **结合默认值:** 可以非常方便地为解构出来的属性设置默认值，如上例中的 `country = 'Unknown'`。



