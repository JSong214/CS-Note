---
date: 2025-06-09
tags:
  - CSS
aliases:
  - Layout
---
# 布局 (Layout)
## Flex布局 (一维布局)

- **容器属性（container）：**

  - 定义：**通过`display: flex`定义**

  - 控制属性：
    - **主轴方向**：`flex-direction: row | column`
    - **主轴对齐**：`justify-content: center`
    - **交叉轴对齐**：` align-items: center;`
    - 换行：`flex-wrap: wrap; `  |  `nowrap`(默认)
    - 间距：`gap: 10px`

-  **项目属性（item）：**

| 属性            | 作用              | 常用值                                       |
| ------------- | --------------- | ----------------------------------------- |
| **`flex`**    | **简写属性**        | `1 0 200px` (grow shrink basis)           |
| `flex-grow`   | 项目放大比例（剩余空间分配）  | `0`(禁止放大) / `1`(等分剩余空间) / `2`(放大2倍) / ... |
| `flex-shrink` | 项目缩小比例（空间不足时收缩） | `1`(默认收缩) / `0`(禁止收缩)                     |
| `flex-basis`  | 初始尺寸            | `auto` / `200px` / `20%`                  |
| `align-self`  | 单独对齐方式          | `center` / `flex-start` / `stretch`       |
| `order`       | 显示顺序            | `-1`(提前) / `0`(默认) / `1`(置后)              |


## Grid 布局 (二维布局)

-  **关键概念**：

  - **`fr` 单位**：按比例分配剩余空间
  - **`minmax(100px, 1fr)`**：最小100px，最大等分空间
  - `repeat()`：重复插入
    - `grid-template-columns: repeat(4,1fr)`  |  创建4个等分的列

- **容器属性（container）：**
  - 定义：**通过`display: grid`定义**
  - 控制属性：
    - **定义列**：`grid-template-columns: 1fr 200px`  |  创建2列
    - **定义行**：`grid-template-rows: 100px auto`  |  创建2行
    - **行列间距**：`gap: 20px`
- **项目对齐**：
	- `justify-content`: 控制**整个网格内容区域**在**容器水平方向**上的对齐
	- `align-content`: 控制**整个网格内容区域**在**容器垂直方向**上的对齐
	- `justify-items`: 控制**所有网格项目**在其分配的**网格区域**内的**水平方向**对齐。
	- `align-items`: 控制**所有网格项目**在其分配的**网格区域**内的**垂直方向**对齐。

- **项目属性（item）**：
  - 放置(基于网格线)
	  - **`grid-column`**
		  - `grid-column: <start-line> / <end-line>` :  `grid-column: 1 / 3` (跨越从第1列线到第3列线)
		  - `grid-column: <start-line> / span <number>` :  `grid-column: 2 / span 2;` (从第2列线开始，跨越2列)
	- **`grid-row`**: 用法同上
- **单个项目对齐：**
	- `justify-self`: 覆盖容器的 `justify-items` 设置，控制**单个项目**在其分配的**网格区域**内的**水平方向**对齐。
	- `align-self`: 覆盖容器的 `align-items` 设置，控制**单个项目**在其分配的**网格区域**内的**垂直方向**对齐。


## 定位布局 (Positioning)

- **核心概念：`position` 属性**

- **`relative` (相对定位)**
  - **特点：**
    - 元素**仍在文档流中占据原本的空间**
    - 可以使用 `top`, `right`, `bottom`, `left` 属性调整位置
    - 设置 `z-index` 属性有效。
    - 会为该元素的后代绝对定位元素 (`position: absolute`) 创建一个**新的定位上下文**


- **`absolute` (绝对定位)**

  - **特点：**
    - 元素**完全脱离正常的文档流**，不再占据原本的空间。
    - 可以使用 `top`, `right`, `bottom`, `left` 属性调整位置
    - 元素相对于其**最近的非 `static` (通常是 `relative`, `absolute`, `fixed`, `sticky`) 定位祖先元素**进行定位。
    - **没有定位的祖先元素**则相对于**初始包含块**（ `<html>` 或 `<body>`）定位。
    - 设置 `z-index` 属性有效。
    - 元素的宽度默认为其内容的宽度 (`width: auto`)。

  - **行为：** 元素漂浮在页面上方，可以与其他元素重叠。


- **`fixed` (固定定位)**
  - **特点：**
    - 元素**完全脱离正常的文档流**。
    - 可以使用 `top`, `right`, `bottom`, `left` 属性相对于**浏览器视口 (viewport)** 进行定位。
    - **位置不随页面滚动而改变**，始终固定在屏幕上指定的位置。
    - 设置 `z-index` 属性有效。
    - 元素的宽度默认为其内容的宽度 (`width: auto`)。


- **`sticky` (粘性定位)**

  - **特点：**

    - 在达到指定的偏移阈值（如 `top: 10px`）之前，它表现得像 `relative` 定位，**仍在文档流中占据空间**。
    - 当滚动位置使得元素将要移出视口（超过设定的阈值）时，它表现得像 `fixed` 定位，**固定在设定的位置**，直到其父元素或滚动容器完全离开视口。
    - 需要**指定至少一个偏移属性 (`top`, `right`, `bottom`, `left`) 才能生效**。

  - **行为：** 在滚动过程中，元素在相对定位和固定定位之间切换。

  - **使用场景：**

    - 元素在页面滚动过某个点后固定在视口指定位置。
    - 元素在滚动列表时固定在顶部。

  - **示例：**

    ```css
    .sticky-nav {
      position: sticky;
      top: 0; /* 当元素顶部距离视口顶部为0时触发固定 */
      background-color: white;
      padding: 10px;
      border-bottom: 1px solid #ddd;
      z-index: 100;
    }
    ```